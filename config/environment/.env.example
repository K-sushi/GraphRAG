# -----------------------------------------------------------------------------
# GraphRAG Implementation Environment Configuration
# Copy this file to .env and fill in your actual values
# -----------------------------------------------------------------------------

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

# Environment
NODE_ENV=production
ENVIRONMENT=production

# Timezone
TZ=Asia/Tokyo

# Debug Settings
DEBUG=false
LOG_LEVEL=info

# =============================================================================
# LIGHTRAG CONFIGURATION
# =============================================================================

# LightRAG Server
LIGHTRAG_HOST=0.0.0.0
LIGHTRAG_PORT=8000
LIGHTRAG_API_URL=http://localhost:8000
LIGHTRAG_API_KEY=your_lightrag_api_key_here

# Working Directory
LIGHTRAG_WORKING_DIR=./lightrag_cache
LIGHTRAG_WORKSPACE=graphrag_production

# Performance Settings
LIGHTRAG_MAX_ASYNC=8
LIGHTRAG_MAX_PARALLEL_INSERT=8
LIGHTRAG_CHUNK_SIZE=1200
LIGHTRAG_CHUNK_OVERLAP=100

# =============================================================================
# N8N CONFIGURATION
# =============================================================================

# n8n Server
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your_n8n_password_here

# n8n Database (if using external database)
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=localhost
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD=your_postgres_password_here

# n8n Execution
EXECUTIONS_MODE=queue
EXECUTIONS_DATA_MAX_AGE=168
QUEUE_BULL_REDIS_HOST=localhost
QUEUE_BULL_REDIS_PORT=6379
QUEUE_BULL_REDIS_PASSWORD=your_redis_password_here

# n8n Security
N8N_JWT_SECRET=your_jwt_secret_here
N8N_ENCRYPTION_KEY=your_encryption_key_here

# Webhook Token
N8N_WEBHOOK_TOKEN=your_webhook_token_here

# =============================================================================
# AI MODEL API KEYS
# =============================================================================

# Gemini API
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta

# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1

# Hugging Face API
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
HUGGINGFACE_BASE_URL=https://api-inference.huggingface.co

# Cohere API (for reranking)
COHERE_API_KEY=your_cohere_api_key_here

# Anthropic API (backup)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL (Production)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=lightrag_production
POSTGRES_USER=lightrag
POSTGRES_PASSWORD=your_postgres_password_here
POSTGRES_SSL_MODE=require

# PostgreSQL URL (alternative format)
DATABASE_URL=postgresql://lightrag:your_postgres_password_here@localhost:5432/lightrag_production

# Neo4j (Graph Database)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password_here
NEO4J_DATABASE=lightrag

# Redis (Caching and Queue)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================

# Supabase (Vector Store)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Milvus (Alternative Vector Store)
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_USER=root
MILVUS_PASSWORD=your_milvus_password_here

# Qdrant (Alternative Vector Store)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your_qdrant_api_key_here

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Google Drive Integration
GOOGLE_DRIVE_FOLDER_ID=your_google_drive_folder_id_here
GOOGLE_DRIVE_DOCUMENTS_FOLDER=your_documents_folder_id_here
GOOGLE_DRIVE_PROCESSED_FOLDER=your_processed_folder_id_here
GOOGLE_DRIVE_ERRORS_FOLDER=your_errors_folder_id_here

# Google Service Account (JSON format as single line)
GOOGLE_DRIVE_CREDENTIALS={"type":"service_account","project_id":"your_project","private_key_id":"..."}

# Web Search APIs
SERPER_API_KEY=your_serper_api_key_here
GOOGLE_SEARCH_API_KEY=your_google_search_api_key_here
GOOGLE_SEARCH_ENGINE_ID=your_search_engine_id_here

# OCR Services
MISTRAL_API_KEY=your_mistral_api_key_here

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================

# Webhook URLs for Alerts
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/discord/webhook

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here

# Monitoring Services
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Encryption
ENCRYPTION_KEY=your_32_character_encryption_key_here
SECRET_KEY=your_secret_key_for_application_here

# SSL/TLS
SSL_CERT_PATH=/path/to/your/ssl/certificate.crt
SSL_KEY_PATH=/path/to/your/ssl/private_key.key

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5678,https://your-frontend-domain.com

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Compose Settings
COMPOSE_PROJECT_NAME=graphrag-implementation

# Container Names
LIGHTRAG_CONTAINER_NAME=lightrag-server
N8N_CONTAINER_NAME=n8n-server
POSTGRES_CONTAINER_NAME=postgres-db
REDIS_CONTAINER_NAME=redis-cache
NEO4J_CONTAINER_NAME=neo4j-graph

# Volume Paths
LIGHTRAG_VOLUME_PATH=./volumes/lightrag
N8N_VOLUME_PATH=./volumes/n8n
POSTGRES_VOLUME_PATH=./volumes/postgres
NEO4J_VOLUME_PATH=./volumes/neo4j

# =============================================================================
# CLOUD DEPLOYMENT CONFIGURATION
# =============================================================================

# Render.com Deployment
RENDER_API_KEY=your_render_api_key_here
RENDER_SERVICE_ID=your_render_service_id_here

# Docker Registry
DOCKER_REGISTRY=ghcr.io
DOCKER_IMAGE_TAG=latest
DOCKER_USERNAME=your_docker_username_here
DOCKER_PASSWORD=your_docker_password_here

# GitHub Container Registry
GITHUB_TOKEN=your_github_token_here
GITHUB_REPOSITORY=K-sushi/GraphRAG

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Request Limits
MAX_REQUEST_SIZE=50mb
REQUEST_TIMEOUT=30000
CONNECTION_TIMEOUT=10000

# Concurrency Limits
MAX_CONCURRENT_REQUESTS=50
MAX_WORKERS=4
WORKER_MEMORY_LIMIT=2048

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# Token Limits
MAX_TOKENS_PER_REQUEST=32000
MAX_TOKENS_PER_HOUR=1000000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/Disable Features
FEATURE_MULTIMODAL_PROCESSING=true
FEATURE_HYBRID_SEARCH=true
FEATURE_AUTO_MODEL_SELECTION=true
FEATURE_REAL_TIME_UPDATES=false
FEATURE_BATCH_PROCESSING=true
FEATURE_ADVANCED_CACHING=true
FEATURE_EXPERIMENTAL_FEATURES=false

# AI Agent Features
FEATURE_AI_AGENT_ROUTING=true
FEATURE_QUERY_ENHANCEMENT=true
FEATURE_AUTO_RERANKING=true

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development Mode Settings (only for development environment)
DEV_MODE=false
DEV_MOCK_LLM_RESPONSES=false
DEV_SAVE_INTERMEDIATE_RESULTS=false
DEV_ENABLE_ADMIN_UI=true
DEV_ADMIN_UI_PORT=8001

# Testing Configuration
TEST_MODE=false
TEST_DATA_PATH=./tests/data
TEST_API_KEY=test_api_key_for_development

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Settings
LOG_FORMAT=json
LOG_OUTPUT=console,file
LOG_FILE_PATH=./logs/application.log
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m

# Component-specific Log Levels
LOG_LEVEL_LIGHTRAG=info
LOG_LEVEL_N8N=info
LOG_LEVEL_DATABASE=warn
LOG_LEVEL_API=info

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# S3 Backup (optional)
S3_BACKUP_ENABLED=false
S3_BUCKET_NAME=your-backup-bucket
S3_ACCESS_KEY_ID=your_s3_access_key
S3_SECRET_ACCESS_KEY=your_s3_secret_key
S3_REGION=us-east-1

# =============================================================================
# ADDITIONAL CONFIGURATION
# =============================================================================

# Custom Settings
CUSTOM_MODEL_PATH=./models/custom
CUSTOM_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
CUSTOM_RERANKER_MODEL=BAAI/bge-reranker-v2-m3

# Analytics (optional)
ANALYTICS_ENABLED=false
ANALYTICS_API_KEY=your_analytics_api_key_here

# License Key (if applicable)
LICENSE_KEY=your_license_key_here